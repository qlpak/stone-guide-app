{"kind":"ObjectId","level":"error","message":"Error in price calculation: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4907:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2325:10)\n    at model.Query._findOne (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2648:8)\n    at model.Query.exec (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4456:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:19)","stringValue":"\"fakeId\"","timestamp":"2025-02-23T18:21:27.412Z","value":"fakeId","valueType":"string"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:23:34.518Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:23:35.088Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:23:35.101Z"}
{"kind":"ObjectId","level":"error","message":"Error in price calculation: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4907:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2325:10)\n    at model.Query._findOne (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2648:8)\n    at model.Query.exec (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4456:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:19)","stringValue":"\"fakeId\"","timestamp":"2025-02-23T18:24:46.066Z","value":"fakeId","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error in price calculation: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4907:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2325:10)\n    at model.Query._findOne (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2648:8)\n    at model.Query.exec (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4456:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:19)","stringValue":"\"fakeId\"","timestamp":"2025-02-23T18:26:52.153Z","value":"fakeId","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error in price calculation: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"fakeId\" (type string) at path \"_id\" for model \"Stone\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4907:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2325:10)\n    at model.Query._findOne (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2648:8)\n    at model.Query.exec (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4456:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:19)","stringValue":"\"fakeId\"","timestamp":"2025-02-23T18:27:36.673Z","value":"fakeId","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error in price calculation: Cast to ObjectId failed for value \"invalidId\" (type string) at path \"_id\" for model \"Stone\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalidId\" (type string) at path \"_id\" for model \"Stone\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/schemaType.js:1673:17)\n    at cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4907:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2325:10)\n    at model.Query._findOne (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:2648:8)\n    at model.Query.exec (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/mongoose/lib/query.js:4456:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:19)","stringValue":"\"invalidId\"","timestamp":"2025-02-23T18:27:38.141Z","value":"invalidId","valueType":"string"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:168:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:69:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:27:38.198Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.445Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.464Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.483Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.494Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.508Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.525Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.536Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:47.547Z"}
{"level":"error","message":"Error in price calculation: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:73:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:31:48.132Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:32:36.521Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:44:56.577Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:47:13.807Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:47:14.570Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:48:31.393Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:48:32.045Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:49:17.568Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:49:18.232Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:49:42.907Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:49:43.562Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:49:59.930Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:50:00.617Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:51:21.993Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:51:22.724Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:52:45.537Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:52:46.199Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:53:10.815Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:53:11.479Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:53:52.612Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:53:53.287Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:55:32.242Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:55:32.884Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:57:10.923Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:57:11.566Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T18:58:38.821Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T18:58:40.015Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:00:23.230Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:00:23.893Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:03:24.601Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:03:25.275Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:10:51.621Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:10:52.301Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:11:37.305Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:11:37.977Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:12:39.813Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:12:40.464Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:14:34.689Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:14:35.344Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:15:45.529Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:15:46.215Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-23T19:19:12.000Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-23T19:19:12.688Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:173:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T09:51:44.619Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T09:51:45.530Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:01:48.984Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:01:49.656Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:07:57.953Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:07:58.608Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:10:10.648Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:10:11.278Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:12:00.348Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:12:00.993Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:12:53.519Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:12:54.169Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:25:36.941Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:25:37.611Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:26:14.670Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:26:15.323Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:26:44.392Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:26:45.043Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:27:23.400Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:27:24.063Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:29:20.608Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:29:21.878Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:30:15.959Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:30:17.174Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:34:18.290Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:34:19.090Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:35:31.533Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:35:32.201Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:51:54.493Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:51:55.263Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:52:15.358Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:52:16.006Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:52:41.041Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:52:41.740Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:154:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T10:53:30.125Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T10:53:30.828Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:02:31.345Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:32:10.859Z"}
{"level":"error","message":"Error in price calculation: Database failure","stack":"Error: Database failure\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/tests/pricing.test.js:160:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:397:39\n    at Function.<anonymous> (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:404:13)\n    at Function.mockConstructor [as findById] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/jest-mock/build/index.js:148:19)\n    at findById (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:78:31)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-24T11:33:30.326Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:33:30.986Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:35:19.286Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:37:55.321Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:39:40.560Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:43:51.380Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:44:43.294Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:46:01.695Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:47:55.482Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:49:41.179Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:51:58.821Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:55:08.330Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:56:06.401Z"}
{"error":{},"level":"error","message":"Error fetching stones","timestamp":"2025-02-24T11:56:33.774Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:26:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:09:39.163Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:26:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:11:39.838Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:26:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:18:15.854Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:27:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:20:18.258Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:28:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:21:29.314Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:28:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:31:05.819Z"}
{"error":{},"level":"error","message":"Error creating stone","timestamp":"2025-02-26T14:31:05.849Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:28:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:33:56.640Z"}
{"error":{"status":400},"level":"error","message":"Database failure while creating stone","timestamp":"2025-02-26T14:33:56.656Z"}
{"error":{"status":500},"level":"error","message":"Error creating stone","timestamp":"2025-02-26T14:33:56.662Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:28:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:38:07.093Z"}
{"error":{"_message":"Stone validation failed","errors":{"color":{"kind":"required","message":"Path `color` is required.","name":"ValidatorError","path":"color","properties":{"message":"Path `color` is required.","path":"color","type":"required"}},"location":{"kind":"required","message":"Path `location` is required.","name":"ValidatorError","path":"location","properties":{"message":"Path `location` is required.","path":"location","type":"required"}},"pricePerM2_2cm":{"kind":"required","message":"Path `pricePerM2_2cm` is required.","name":"ValidatorError","path":"pricePerM2_2cm","properties":{"message":"Path `pricePerM2_2cm` is required.","path":"pricePerM2_2cm","type":"required"}},"pricePerM2_3cm":{"kind":"required","message":"Path `pricePerM2_3cm` is required.","name":"ValidatorError","path":"pricePerM2_3cm","properties":{"message":"Path `pricePerM2_3cm` is required.","path":"pricePerM2_3cm","type":"required"}},"type":{"kind":"required","message":"Path `type` is required.","name":"ValidatorError","path":"type","properties":{"message":"Path `type` is required.","path":"type","type":"required"}}},"message":"Stone validation failed: location: Path `location` is required., pricePerM2_3cm: Path `pricePerM2_3cm` is required., pricePerM2_2cm: Path `pricePerM2_2cm` is required., color: Path `color` is required., type: Path `type` is required.","name":"ValidationError"},"level":"error","message":"Error creating stone","timestamp":"2025-02-26T14:38:07.112Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:28:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:53:01.498Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:28:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:54:58.801Z"}
{"level":"error","message":"Error in price calculation: Invalid stone ID format.","stack":"Error: Invalid stone ID format.\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/utils/validation.js:28:11)\n    at validatePriceCalculation (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/services/pricingService.js:8:3)\n    at calculatePrice (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/controllers/pricingController.js:6:29)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/src/server.js:20:3)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:527:6)\n    at xXssProtectionMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:307:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPoweredByMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:300:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:293:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xFrameOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:277:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDownloadOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:257:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xDnsPrefetchControlMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:250:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at xContentTypeOptionsMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:242:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at strictTransportSecurityMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:235:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at referrerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:203:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at originAgentClusterMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:178:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginResourcePolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:171:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at crossOriginOpenerPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:155:3)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at contentSecurityPolicyMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:120:4)\n    at internalNext (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:525:6)\n    at helmetMiddleware (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/helmet/index.cjs:529:6)\n    at Layer.handle [as handle_request] (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/lukaszkulpaczynski/Desktop/praca/stone-guide-app/stone-guide-app/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-02-26T14:55:24.375Z"}
